package ru.home.swap.wallet.contract

import org.web3j.abi.FunctionEncoder
import org.web3j.abi.TypeReference
import org.web3j.abi.datatypes.*
import org.web3j.abi.datatypes.Function
import org.web3j.crypto.Credentials
import org.web3j.protocol.Web3j
import org.web3j.protocol.core.RemoteCall
import org.web3j.protocol.core.RemoteFunctionCall
import org.web3j.protocol.core.methods.request.Transaction
import org.web3j.protocol.core.methods.response.TransactionReceipt
import org.web3j.tx.Contract
import org.web3j.tx.TransactionManager
import org.web3j.tx.gas.ContractGasProvider

class SwapChain : Contract, ISwapChain {

    object Const {
        const val CONTRACT_BINARY =
            "0x608060405234801561001057600080fd5b506004361061007c5760003560e01c80632b216c421161005b5780632b216c42146100d75780633548ff9d146100f3578063d92517c61461010f578063e4f02ae61461012b5761007c565b8062ce8e3e1461008157806304310fda1461009f5780632199d5cd146100bb575b600080fd5b61008961015b565b604051610096919061261f565b60405180910390f35b6100b960048036038101906100b49190612679565b6101e9565b005b6100d560048036038101906100d091906126d2565b610206565b005b6100f160048036038101906100ec919061271e565b6102bc565b005b61010d60048036038101906101089190612679565b610382565b005b6101296004803603810190610124919061271e565b61039f565b005b6101456004803603810190610140919061278d565b610465565b604051610152919061292b565b60405180910390f35b606060028054806020026020016040519081016040528092919081815260200182805480156101df57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019060010190808311610195575b5050505050905090565b61020333828036038101906101fe9190612adb565b6105dd565b50565b6001151561021382610f92565b15151415610256576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024d90612b65565b60405180910390fd5b6002819080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6102c46124c9565b83816000019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505082816040019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505081602001358160200181815250508160600135816060018181525050600081608001901515908115158152505060008160a001901515908115158152505061037c33826105dd565b50505050565b61039c33828036038101906103979190612adb565b611041565b50565b6103a76124c9565b83816000019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505082816040019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505081602001358160200181815250508160600135816060018181525050600081608001901515908115158152505060008160a001901515908115158152505061045f3382611041565b50505050565b606060006104738484611990565b905060036000828152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b828210156105d057838290600052602060002090600502016040518060c00160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015481526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820160009054906101000a900460ff161515151581526020016004820160019054906101000a900460ff161515151581525050815260200190600101906104a8565b5050505091505092915050565b81816000015182604001518173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16148061064d57508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16145b61068c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161068390612c1d565b60405180910390fd5b83600001518460400151600115156106a383610f92565b1515146106e5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106dc90612caf565b60405180910390fd5b600115156106f282610f92565b151514610734576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161072b90612d41565b60405180910390fd5b856001151560008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663761610fc83602001516040518263ffffffff1660e01b81526004016107969190612d70565b60006040518083038186803b1580156107ae57600080fd5b505afa1580156107c2573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906107eb9190612f3b565b606001511515141580156108b957506001151560008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663761610fc83606001516040518263ffffffff1660e01b815260040161085b9190612d70565b60006040518083038186803b15801561087357600080fd5b505afa158015610887573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906108b09190612f3b565b60600151151514155b6108f8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108ef90612ff6565b60405180910390fd5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663761610fc82602001516040518263ffffffff1660e01b81526004016109559190612d70565b60006040518083038186803b15801561096d57600080fd5b505afa158015610981573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906109aa9190612f3b565b6040015142108015610a70575060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663761610fc82606001516040518263ffffffff1660e01b8152600401610a149190612d70565b60006040518083038186803b158015610a2c57600080fd5b505afa158015610a40573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f82011682018060405250810190610a699190612f3b565b6040015142105b610aaf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aa690613088565b60405180910390fd5b6000610aba88611b72565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60000b811415610b22576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b199061311a565b60405180910390fd5b6000610b3689600001518a60400151611990565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60000b811415610b9e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b95906131ac565b60405180910390fd5b6000600360008381526020019081526020016000208381548110610bc557610bc46131cc565b5b90600052602060002090600502016040518060c00160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015481526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820160009054906101000a900460ff161515151581526020016004820160019054906101000a900460ff161515151581525050905080608001518015610ce857508060a001515b610d27576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d1e9061326d565b60405180910390fd5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16632b910aa282602001516040518263ffffffff1660e01b8152600401610d849190612d70565b600060405180830381600087803b158015610d9e57600080fd5b505af1158015610db2573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16632b910aa282606001516040518263ffffffff1660e01b8152600401610e139190612d70565b600060405180830381600087803b158015610e2d57600080fd5b505af1158015610e41573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166342842e0e8260000151836040015184602001516040518463ffffffff1660e01b8152600401610eae9392919061329c565b600060405180830381600087803b158015610ec857600080fd5b505af1158015610edc573d6000803e3d6000fd5b5050505060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166342842e0e8260400151836000015184606001516040518463ffffffff1660e01b8152600401610f499392919061329c565b600060405180830381600087803b158015610f6357600080fd5b505af1158015610f77573d6000803e3d6000fd5b50505050610f858284611eef565b5050505050505050505050565b600080600090505b600280549050811015611036578273ffffffffffffffffffffffffffffffffffffffff1660028281548110610fd257610fd16131cc565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141561102357600191505061103c565b808061102e90613302565b915050610f9a565b50600090505b919050565b81816000015182604001518173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614806110b157508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16145b6110f0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110e790612c1d565b60405180910390fd5b836000015184604001516001151561110783610f92565b151514611149576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161114090612caf565b60405180910390fd5b6001151561115682610f92565b151514611198576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161118f90612d41565b60405180910390fd5b856001151560008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663761610fc83602001516040518263ffffffff1660e01b81526004016111fa9190612d70565b60006040518083038186803b15801561121257600080fd5b505afa158015611226573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f8201168201806040525081019061124f9190612f3b565b6060015115151415801561131d57506001151560008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663761610fc83606001516040518263ffffffff1660e01b81526004016112bf9190612d70565b60006040518083038186803b1580156112d757600080fd5b505afa1580156112eb573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906113149190612f3b565b60600151151514155b61135c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161135390612ff6565b60405180910390fd5b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663761610fc82602001516040518263ffffffff1660e01b81526004016113b99190612d70565b60006040518083038186803b1580156113d157600080fd5b505afa1580156113e5573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f8201168201806040525081019061140e9190612f3b565b60400151421080156114d4575060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663761610fc82606001516040518263ffffffff1660e01b81526004016114789190612d70565b60006040518083038186803b15801561149057600080fd5b505afa1580156114a4573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906114cd9190612f3b565b6040015142105b611513576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161150a90613088565b60405180910390fd5b600061151e88611b72565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60000b8114156115c657611554886122c9565b61155d88611b72565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60000b8114156115c5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115bc906133e3565b60405180910390fd5b5b60006115da89600001518a60400151611990565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60000b811415611642576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161163990613475565b60405180910390fd5b6000600360008381526020019081526020016000208381548110611669576116686131cc565b5b90600052602060002090600502016040518060c00160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015481526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820160009054906101000a900460ff161515151581526020016004820160019054906101000a900460ff1615151515815250509050600015158160800151151514806117995750600015158160a001511515145b6117d8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117cf90613507565b60405180910390fd5b806000015173ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156118af5760001515816080015115151461185b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161185290613599565b60405180910390fd5b6001600360008481526020019081526020016000208481548110611882576118816131cc565b5b906000526020600020906005020160040160006101000a81548160ff021916908315150217905550611983565b806040015173ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561198257600015158160a00151151514611932576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119299061362b565b60405180910390fd5b6001600360008481526020019081526020016000208481548110611959576119586131cc565b5b906000526020600020906005020160040160016101000a81548160ff0219169083151502179055505b5b5050505050505050505050565b600080600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166329c9810b85856040518363ffffffff1660e01b81526004016119f092919061364b565b60206040518083038186803b158015611a0857600080fd5b505afa158015611a1c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a409190613674565b90506000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166329c9810b85876040518363ffffffff1660e01b8152600401611aa192919061364b565b60206040518083038186803b158015611ab957600080fd5b505afa158015611acd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611af19190613674565b90506000600360008481526020019081526020016000208054905014611b1b578192505050611b6c565b6000600360008381526020019081526020016000208054905014611b43578092505050611b6c565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60000b925050505b92915050565b6000807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60000b90506000611baf84600001518560400151611990565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60000b811415611be6578192505050611eea565b600060036000838152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b82821015611d4357838290600052602060002090600502016040518060c00160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015481526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820160009054906101000a900460ff161515151581526020016004820160019054906101000a900460ff16151515158152505081526020019060010190611c1b565b50505050905060005b8151811015611ee2576000828281518110611d6a57611d696131cc565b5b602002602001015190506000816000015173ffffffffffffffffffffffffffffffffffffffff16886000015173ffffffffffffffffffffffffffffffffffffffff16148015611dec5750816040015173ffffffffffffffffffffffffffffffffffffffff16886040015173ffffffffffffffffffffffffffffffffffffffff16145b80611e695750816040015173ffffffffffffffffffffffffffffffffffffffff16886000015173ffffffffffffffffffffffffffffffffffffffff16148015611e685750816000015173ffffffffffffffffffffffffffffffffffffffff16886040015173ffffffffffffffffffffffffffffffffffffffff16145b5b9050600082602001518960200151148015611e8b575082606001518960600151145b80611eb0575082606001518960200151148015611eaf575082602001518960600151145b5b9050818015611ebc5750805b15611ecc57839650505050611ee2565b5050508080611eda90613302565b915050611d4c565b508293505050505b919050565b600060036000848152602001908152602001600020805480602002602001604051908101604052809291908181526020016000905b8282101561204c57838290600052602060002090600502016040518060c00160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600182015481526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820160009054906101000a900460ff161515151581526020016004820160019054906101000a900460ff16151515158152505081526020019060010190611f24565b50505050905060008151141561206257506122c5565b6000805b6001835161207491906136a1565b8110156121ff5783811415612090578161208d90613302565b91505b6001835161209e91906136a1565b8211156120aa576121ec565b8282815181106120bd576120bc6131cc565b5b60200260200101516003600087815260200190815260200160002082815481106120ea576120e96131cc565b5b906000526020600020906005020160008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a08201518160040160016101000a81548160ff02191690831515021790555090505081806121e890613302565b9250505b80806121f790613302565b915050612066565b5060036000858152602001908152602001600020805480612223576122226136d5565b5b6001900381819060005260206000209060050201600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560018201600090556002820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905560038201600090556004820160006101000a81549060ff02191690556004820160016101000a81549060ff02191690555050905550505b5050565b6000600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166329c9810b836000015184604001516040518363ffffffff1660e01b815260040161233092919061364b565b60206040518083038186803b15801561234857600080fd5b505afa15801561235c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906123809190613674565b9050600082608001901515908115158152505060008260a00190151590811515815250506003600082815260200190815260200160002082908060018154018082558091505060019003906000526020600020906005020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a08201518160040160016101000a81548160ff02191690831515021790555050505050565b6040518060c00160405280600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600081526020016000151581526020016000151581525090565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006125868261255b565b9050919050565b6125968161257b565b82525050565b60006125a8838361258d565b60208301905092915050565b6000602082019050919050565b60006125cc8261252f565b6125d6818561253a565b93506125e18361254b565b8060005b838110156126125781516125f9888261259c565b9750612604836125b4565b9250506001810190506125e5565b5085935050505092915050565b6000602082019050818103600083015261263981846125c1565b905092915050565b6000604051905090565b600080fd5b600080fd5b600080fd5b600060c082840312156126705761266f612655565b5b81905092915050565b600060c0828403121561268f5761268e61264b565b5b600061269d8482850161265a565b91505092915050565b6126af8161257b565b81146126ba57600080fd5b50565b6000813590506126cc816126a6565b92915050565b6000602082840312156126e8576126e761264b565b5b60006126f6848285016126bd565b91505092915050565b600060c0828403121561271557612714612655565b5b81905092915050565b6000806000606084860312156127375761273661264b565b5b6000612745868287016126bd565b9350506020612756868287016126bd565b925050604084013567ffffffffffffffff81111561277757612776612650565b5b612783868287016126ff565b9150509250925092565b600080604083850312156127a4576127a361264b565b5b60006127b2858286016126bd565b92505060206127c3858286016126bd565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000819050919050565b61280c816127f9565b82525050565b60008115159050919050565b61282781612812565b82525050565b60c082016000820151612843600085018261258d565b5060208201516128566020850182612803565b506040820151612869604085018261258d565b50606082015161287c6060850182612803565b50608082015161288f608085018261281e565b5060a08201516128a260a085018261281e565b50505050565b60006128b4838361282d565b60c08301905092915050565b6000602082019050919050565b60006128d8826127cd565b6128e281856127d8565b93506128ed836127e9565b8060005b8381101561291e57815161290588826128a8565b9750612910836128c0565b9250506001810190506128f1565b5085935050505092915050565b6000602082019050818103600083015261294581846128cd565b905092915050565b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61299b82612952565b810181811067ffffffffffffffff821117156129ba576129b9612963565b5b80604052505050565b60006129cd612641565b90506129d98282612992565b919050565b600080fd5b6129ec816127f9565b81146129f757600080fd5b50565b600081359050612a09816129e3565b92915050565b612a1881612812565b8114612a2357600080fd5b50565b600081359050612a3581612a0f565b92915050565b600060c08284031215612a5157612a5061294d565b5b612a5b60c06129c3565b90506000612a6b848285016126bd565b6000830152506020612a7f848285016129fa565b6020830152506040612a93848285016126bd565b6040830152506060612aa7848285016129fa565b6060830152506080612abb84828501612a26565b60808301525060a0612acf84828501612a26565b60a08301525092915050565b600060c08284031215612af157612af061264b565b5b6000612aff84828501612a3b565b91505092915050565b600082825260208201905092915050565b7f5573657220616c726561647920726567697374657265642e0000000000000000600082015250565b6000612b4f601883612b08565b9150612b5a82612b19565b602082019050919050565b60006020820190508181036000830152612b7e81612b42565b9050919050565b7f43616c6c65722073686f756c6420626520616e206f6e65206f6620746865207560008201527f7365727320646566696e656420696e2074686520706173736564206d6174636860208201527f206f626a6563742e000000000000000000000000000000000000000000000000604082015250565b6000612c07604883612b08565b9150612c1282612b85565b606082019050919050565b60006020820190508181036000830152612c3681612bfa565b9050919050565b7f54686520666972737420757365722073686f756c64206265207265676973746560008201527f7265642e00000000000000000000000000000000000000000000000000000000602082015250565b6000612c99602483612b08565b9150612ca482612c3d565b604082019050919050565b60006020820190508181036000830152612cc881612c8c565b9050919050565b7f546865207365636f6e6420757365722073686f756c642062652072656769737460008201527f657265642e000000000000000000000000000000000000000000000000000000602082015250565b6000612d2b602583612b08565b9150612d3682612ccf565b604082019050919050565b60006020820190508181036000830152612d5a81612d1e565b9050919050565b612d6a816127f9565b82525050565b6000602082019050612d856000830184612d61565b92915050565b600080fd5b600080fd5b600067ffffffffffffffff821115612db057612daf612963565b5b612db982612952565b9050602081019050919050565b60005b83811015612de4578082015181840152602081019050612dc9565b83811115612df3576000848401525b50505050565b6000612e0c612e0784612d95565b6129c3565b905082815260208101848484011115612e2857612e27612d90565b5b612e33848285612dc6565b509392505050565b600082601f830112612e5057612e4f612d8b565b5b8151612e60848260208601612df9565b91505092915050565b600081519050612e78816129e3565b92915050565b600081519050612e8d81612a0f565b92915050565b600060a08284031215612ea957612ea861294d565b5b612eb360a06129c3565b9050600082015167ffffffffffffffff811115612ed357612ed26129de565b5b612edf84828501612e3b565b6000830152506020612ef384828501612e69565b6020830152506040612f0784828501612e69565b6040830152506060612f1b84828501612e7e565b6060830152506080612f2f84828501612e69565b60808301525092915050565b600060208284031215612f5157612f5061264b565b5b600082015167ffffffffffffffff811115612f6f57612f6e612650565b5b612f7b84828501612e93565b91505092915050565b7f546f6b656e732073686f756c64206e6f7420626520616c726561647920636f6e60008201527f73756d65642e0000000000000000000000000000000000000000000000000000602082015250565b6000612fe0602683612b08565b9150612feb82612f84565b604082019050919050565b6000602082019050818103600083015261300f81612fd3565b9050919050565b7f4f6e65206f7220626f746820746f6b656e7320686173206265656e206578706960008201527f7265642e00000000000000000000000000000000000000000000000000000000602082015250565b6000613072602483612b08565b915061307d82613016565b604082019050919050565b600060208201905081810360008301526130a181613065565b9050919050565b7f4d61746368206974656d206973206e6f7420666f756e642e2044696420796f7560008201527f207061737320636f7272656374206d61746368206f626a6563743f0000000000602082015250565b6000613104603b83612b08565b915061310f826130a8565b604082019050919050565b60006020820190508181036000830152613133816130f7565b9050919050565b7f436f756c64206e6f742066696e642061206d617463682e20446f20796f75206860008201527f61766520697420696e2073746f726167653f0000000000000000000000000000602082015250565b6000613196603283612b08565b91506131a18261313a565b604082019050919050565b600060208201905081810360008301526131c581613189565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4f6e65206f7220626f7468207573657273206861736e277420636f6e6669726d60008201527f65642079657420737761702e0000000000000000000000000000000000000000602082015250565b6000613257602c83612b08565b9150613262826131fb565b604082019050919050565b600060208201905081810360008301526132868161324a565b9050919050565b6132968161257b565b82525050565b60006060820190506132b1600083018661328d565b6132be602083018561328d565b6132cb6040830184612d61565b949350505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061330d826127f9565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156133405761333f6132d3565b5b600182019050919050565b7f43616e206e6f74206164642074686973206e6577206d61746368206f626a656360008201527f7420696e746f2073746f726167652e20436865636b205f6765744d617463684960208201527f74656d496e64657828292066756e6374696f6e2e000000000000000000000000604082015250565b60006133cd605483612b08565b91506133d88261334b565b606082019050919050565b600060208201905081810360008301526133fc816133c0565b9050919050565b7f43616e206e6f7420616464206d61746368206f626a6563742e20446f20796f7560008201527f7273206b6579732063616e206265206861736865643f20000000000000000000602082015250565b600061345f603783612b08565b915061346a82613403565b604082019050919050565b6000602082019050818103600083015261348e81613452565b9050919050565b7f54686973206d61746368206f626a65637420616c726561647920617070726f7660008201527f656420627920626f74682075736572732e000000000000000000000000000000602082015250565b60006134f1603183612b08565b91506134fc82613495565b604082019050919050565b60006020820190508181036000830152613520816134e4565b9050919050565b7f4d6174636820697320616c726561647920617070726f7665642062792074686960008201527f732c2066697273742c20757365722e0000000000000000000000000000000000602082015250565b6000613583602f83612b08565b915061358e82613527565b604082019050919050565b600060208201905081810360008301526135b281613576565b9050919050565b7f4d6174636820697320616c726561647920617070726f7665642062792074686960008201527f732c207365636f6e642c20757365722e00000000000000000000000000000000602082015250565b6000613615603083612b08565b9150613620826135b9565b604082019050919050565b6000602082019050818103600083015261364481613608565b9050919050565b6000604082019050613660600083018561328d565b61366d602083018461328d565b9392505050565b60006020828403121561368a5761368961264b565b5b600061369884828501612e69565b91505092915050565b60006136ac826127f9565b91506136b7836127f9565b9250828210156136ca576136c96132d3565b5b828203905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603160045260246000fdfea26469706673582212206b87cf157ea7e1cce444876be18190043655d4479df20c22d07de95348996c6764736f6c63430008090033"
    }

    fun deploy(
        web3j: Web3j?,
        credentials: Credentials?,
        contractGasProvider: ContractGasProvider?
    ): RemoteCall<SwapChain?>? {
        /*
        *         address utilsAddr,
        address valueToken,
        address matchDynamicArray
        * */
        val encodedConstructor = FunctionEncoder.encodeConstructor(
            listOf(/*Address(utilsAddr), Address(valueToken), Address(matchDynamicArray)*/)
        )
        return deployRemoteCall(
            SwapChain::class.java,
            web3j,
            credentials,
            contractGasProvider,
            Const.CONTRACT_BINARY,
            encodedConstructor
        )
    }
    companion object {
        @Deprecated(message =
        "Only replay-protected (EIP-155) transactions allowed over RPC "
                + "which requires chainId maintained by RawTransactionManager",
            replaceWith = ReplaceWith("SwapChain().load(\n" +
                    "            contractAddress: String?,\n" +
                    "            web3j: Web3j?,\n" +
                    "            transactionManager: TransactionManager,\n" +
                    "            contractGasProvider: ContractGasProvider?\n" +
                    "        )"
            )
        )
        @JvmStatic
        fun load(
            contractAddress: String?,
            web3j: Web3j?,
            credentials: Credentials?,
            contractGasProvider: ContractGasProvider?
        ): SwapChain {
            return SwapChain(Const.CONTRACT_BINARY, contractAddress, web3j, credentials, contractGasProvider)
        }

        @JvmStatic
        fun load(
            contractAddress: String?,
            web3j: Web3j?,
            transactionManager: TransactionManager,
            contractGasProvider: ContractGasProvider?
        ): SwapChain {
            return SwapChain(Const.CONTRACT_BINARY, contractAddress, web3j, transactionManager, contractGasProvider)
        }
    }

    protected constructor(
        contractBinary: String?,
        contractAddress: String?,
        web3j: Web3j?,
        credentials: Credentials?,
        gasProvider: ContractGasProvider?
    ): super(contractBinary, contractAddress, web3j, credentials, gasProvider) {
        // no op
    }

    protected constructor(
        contractBinary: String?,
        contractAddress: String?,
        web3j: Web3j?,
        transactionManager: TransactionManager,
        contractGasProvider: ContractGasProvider?
    ): super(contractBinary, contractAddress, web3j, transactionManager, contractGasProvider) {
        // no op
    }

    override fun registerUser(userWalletAddress: String): RemoteFunctionCall<TransactionReceipt> {
        val function = Function(
            ISwapChain.Functions.FUNC_REGISTER_USER,
            listOf(Address(userWalletAddress)),
            emptyList()
        )
        return executeRemoteCallTransaction(function)
    }

    override fun approveSwap(userFirstAddress: String, userSecondAddress: String, matchObj: Match): RemoteFunctionCall<TransactionReceipt> {
        val function = Function(
            ISwapChain.Functions.FUNC_APPROVE_SWAP,
            listOf(
                Address(userFirstAddress),
                Address(userSecondAddress),
                matchObj
            ),
            emptyList()
        )
        return executeRemoteCallTransaction(function)
    }

    override fun registerDemand(
        userAddress: String,
        demand: String
    ): RemoteFunctionCall<TransactionReceipt> {
        val function = Function(
            ISwapChain.Functions.FUNC_REGISTER_DEMAND,
            listOf(Address(userAddress), Utf8String(demand)),
            emptyList()
        )

        return executeRemoteCallTransaction(function)
    }

    override fun swap(subj: Match): RemoteFunctionCall<TransactionReceipt> {
        val function = Function(
            ISwapChain.Functions.FUNC_SWAP,
            listOf(
                Address(subj.userFirst),
                Address(subj.userSecond),
                subj
            ),
            emptyList()
        )

        return executeRemoteCallTransaction(function)
    }

    override fun getMatches(userFirstAddress: String, userSecondAddress: String): RemoteFunctionCall<List<Match>> {
        val function = Function(
            ISwapChain.Functions.FUNC_GET_MATCHES,
            listOf(
                Address(userFirstAddress),
                Address(userSecondAddress)
            ),
            listOf(
                object: TypeReference<DynamicArray<Match>>() {}
            )
        )
        return RemoteFunctionCall(function) {
            // FIXME get a result, but failed to parse the result -- instead of Match type ref it takes
            // DynamicArray ref and gives wrong offset which consequently leads to failure
            val result = executeCallSingleValueReturn<Type<Match>, List<*>>(function, List::class.java) as List<Type<Match>>
            convertToNative<Type<Match>, Match>(result)
        }

    }

}